name: SMOKE DETECTION

on:
  push:
    branches: [disable]
  pull_request:
    branches: [master]

jobs:
  testjs:
    name: UNIT TESTING
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [16.x]
    
    steps:
      - run: echo "🎉 The job was automatically triggered by a ${{ github.event_name }} event."
      - run: echo "🐧 This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      - run: echo "🔎 The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."

      - name: CHECKOUT
      uses: actions/checkout@v3

      - name: Install YARN
        run: yarn
        
      - name: RUN TEST
        run: |
          yarn test
  testpy:
    needs: [testjs]
    name: TEST - PY APP - PROD
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [16.x]
        
    steps:
      - name: RUN TEST
        run: echo "🎉 The job was automatically triggered by a ${{ github.event_name }} event."